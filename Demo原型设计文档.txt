最小可运行 Demo 原型设计文档
阶段一：用户注册与登录

输入数据： 用户通过前端注册表单提交基本信息，包括学号、姓名、所属专业、联系方式、登录密码等。管理员账户则由系统预设初始化。

系统处理逻辑： 后端接收注册请求，首先校验字段格式（如学号唯一、密码长度等）。密码使用安全哈希算法加密存储（可借助 Kotlin 扩展函数封装哈希处理）。系统在创建用户数据类对象时自动生成唯一用户ID（UUID）作为主键，以确保数据库中每个用户记录可区分。随后系统根据推免资格基本要求检查该学生的初始状态：查询其学业成绩记录，验证重修科目数、处分情况等。如发现累计有3门次及以上课程重修记录或存在未解除的记过及更严重处分，则认定不符合推免基本条件，注册流程中止并反馈提示“不满足推免申请条件”，不创建账号
informatics.xmu.edu.cn
feelyoung.xmu.edu.cn
。若仅存在暂时未达标项（例如英语四级成绩未达到学院规定的500分），系统允许注册但在个人主页醒目位置警告“外语成绩未达标，需在规定日期前补交合格成绩”
informatics.xmu.edu.cn
。注册成功后，系统创建用户表记录（如User表）保存学号、姓名、专业、角色类型（学生/管理员）、密码哈希等信息，并为学生分配默认“未提交”申请状态。登录时，用户输入学号/密码，后端验证凭据正确后建立会话（颁发JWT令牌用于前后端分离认证），同时根据角色加载对应权限视图。（涉及模块：MySQL 用户表，Kotlin 数据类表示用户实体，使用Kotlin封装的JWT工具进行认证，前端使用Vue3 + Element Plus实现注册/登录表单界面
vue.tutorial.hogwarts.ceshiren.com
。）

输出数据： 若注册/登录成功，系统返回操作结果状态。新注册用户获得一个唯一用户ID（如返回UUID字符串）以及初始会话令牌用于后续请求。用户个人信息及资格状态存储于数据库，可通过个人主页查看。对于不符合条件而被拒绝的注册申请，系统则输出明确的失败原因。

验收标准： 在完成注册登录阶段后，应在数据库的用户表中看到新增的学生账户记录，含正确的个人信息和加密密码，分配有唯一ID。例如，注册完成后能够查询到对应UUID的用户记录。新用户使用注册的学号/密码登录能够获得授权访问系统主界面；反之，以错误密码登录会收到“凭证不正确”的错误且无法进入。对于不满足资格的用户尝试注册，系统会阻止注册并返回提示信息，确保不产生无效账户。成功登录的用户根据其角色能够进入相应的功能页面（学生进入申请页面，管理员进入管理后台）。此外，通过日志检查应验证：密码以安全哈希存储而非明文，确保账户安全。

阶段二：材料上传与 OCR/NLP 识别

输入数据： 学生用户在前端选择申报的加分成果类型并填写基本信息，然后上传对应的证明材料文件。前端提供分类入口，例如“论文发表”、“竞赛获奖”、“发明专利”、“荣誉称号”、“志愿服务”等，每个入口对应不同的表单字段要求。典型输入包括：成果名称或标题、取得日期、颁发单位/刊物名称、本人在其中的角色或排名等元数据，以及证明材料的电子文件（支持PDF或图片格式）。例如，学生选择“学科竞赛”，则需输入竞赛名称、级别（校级/省级/国家级等）、获奖等级（一等奖等）、团队总人数及本人名次（如适用）等，并上传获奖证书扫描件。

系统处理逻辑： 后端接收到上传请求后，首先将原始文件保存至文件存储（可采用服务器本地目录或云存储OSS路径，并在数据库中记录文件名和路径）。系统创建一条初始成果记录（Achievement数据类实例），填入类别、学生ID、基本描述等，并关联存储的文件路径。接着，系统调用第三方 OCR 接口对上传的文件进行文字识别，将证书或材料中的文字内容提取为机器可读文本
help.aliyun.com
。此步骤通过异步后台任务执行，避免阻塞用户界面；在 Kotlin 中可使用协程启动 OCR 调用，不影响主线程响应。OCR 返回的文本结果经过简单清洗（去除噪声字符、统一简繁体等）后，系统尝试利用预定义规则和 NLP 技术从中提取关键信息：按照材料类别，应用对应的解析逻辑模块。例如，对于竞赛证书，系统在识别文本中搜索竞赛名称、举办单位和获奖等级等关键词，将其与学院维护的竞赛项目库比对以确定竞赛类别（如是否属于学院认可的A+类竞赛），同时读取奖项等次（一等奖/二等奖等）
dxxy.xatu.edu.cn
dxxy.xatu.edu.cn
。对于论文发表材料，系统从OCR文本中定位论文标题、期刊或会议名称，判断该刊物是否在学院认定的A/B/C类目录，并提取作者名单识别学生作者排名等。系统还利用简单的自然语言处理：如基于正则表达式或关键字的名称匹配、或调用实体识别API提取人名、赛事名等【15†】。在提取过程中，如果某些关键字段无法自动识别或存在歧义，系统将在前端界面高亮标记并提示用户手动填写或确认。例如，若OCR未能识别出竞赛名称（如证书图像模糊），对应输入框会标注“未自动识别，请手动输入”。完成解析后，成果记录进入“已上传”状态，并临时计算出该项材料的初步预估加分。系统依据识别的信息立即调用后端加分计算模块（见阶段三）为该单项成果计算分值，并将结果返回前端显示，供学生参考核对。（涉及模块：文件存储服务，OCR/NLP 第三方API接口——例如调用阿里云OCR服务以高精度识别证书文字
help.aliyun.com
；数据库的成果表及其子表存储解析后的结构化信息；Kotlin 协程用于异步OCR调用，集合操作用于快速检索匹配竞赛/刊物名称。）

输出数据： 每成功上传一项材料，系统都会更新前端页面，列出该成果的结构化信息和暂定得分。例如：“竞赛：第XX届全国大学生数学建模竞赛 (国家级一等奖)，个人得分预估：10 分”，其中竞赛名称、级别和奖项均来自OCR解析和规则判断
dxxy.xatu.edu.cn
。同时，该成果记录已持久化到数据库，包括：基本属性（类型、名称、日期等）、关联的文件路径、解析出的关键字段，以及系统计算的初始加分值和有效性标识。如果系统发现材料不在认可范围或有其他问题，会将该条记录标记为“需人工审核”或“不计分”状态，并在输出数据中说明原因（例如“该竞赛不在学院认可名单，不计分”）。学生可以查看已上传成果列表，对识别结果进行校对：如有错误，可以编辑相关字段并保存，系统会重新运行识别和计分逻辑更新输出。

验收标准： 在材料上传与识别阶段结束时，每条学生上传的成果材料都应成功存储并产生对应的结构化数据和预估分数。验收检查包括：文件上传成功率（上传的PDF/JPG文件在服务器指定目录可找到，并记录在数据库）；OCR识别准确率（对于清晰度良好的示范证书，系统正确提取了比赛名称、等次等信息，并填入相应字段）；自动分类正确性（系统将成果归入正确类别，并套用相应规则计算初步分值，比如上传一份省级二等奖竞赛证书，系统显示匹配“省级A类竞赛二等奖，预估加5分”，与手工预期一致）。对无法自动提取的字段，系统提示明确，允许学生补录。总体验收要求是：学生能够在上传后即时看到每项材料的解析详情和分值估算，确保对自己的申请材料有清晰了解。

阶段三：成果分类与加分计算逻辑

输入数据： 来自前一阶段的结构化成果信息列表，以及学院推免政策中规定的各类成果加分规则配置。对每位学生而言，需处理其学术专长成果（如论文、专利、竞赛、创新项目等）和综合表现成果（如荣誉称号、志愿服务、学生干部任职、文体比赛等）两大类材料。系统同时获取学生的学业成绩信息（例如专业排名或平均绩点），以备后续综合成绩计算使用
feelyoung.xmu.edu.cn
。

系统处理逻辑： 系统按照推免细则对每条成果逐一判定所属类别，验证其计分资格，并依据规则计算分数。整个评分逻辑采用规则引擎方式实现：预先以配置表或DSL形式定义各类成果的基准分值、加分上限和特殊判定条件。计算时按类别分支处理，核心规则包括：

科研论文： 检查论文发表的刊物/会议级别，参照学院期刊目录将其分类为A类、B类或C类论文。每篇论文基准分依次为A类10分、B类6分、C类1分
dxxy.xatu.edu.cn
。若属于顶尖学术刊物（Nature、Science主刊或影响因子≥10的子刊），则特别视为“两篇A类论文”赋基准20分
dxxy.xatu.edu.cn
。计分时限定厦门大学为论文第一单位，且只计算除导师以外学生排名最前的两位作者贡献
dxxy.xatu.edu.cn
dxxy.xatu.edu.cn
：第一学生作者按基准分的80%计分，第二学生作者按20%计分；如学生为独立第一作者则按100%计分。导师身份的作者不占用学生排名名额，不计入学生本人分配比例。每篇论文至多认定1位学生作者计分，多人合作时其他同学该篇不重复加分。论文类成果的计分上限：C类论文最多计2篇（超出部分不再加分）；A/B类无篇数上限但总得分受学术专长总分封顶约束
dxxy.xatu.edu.cn
。计算示例：如果某学生有A类论文1篇（独立一作）和B类论文1篇（导师为一作、学生为二作），则得分=10×100% + 6×20% = 10 + 1.2 = 11.2分。

发明专利： 限认定国家发明专利（实用新型等不计）。每项授权发明专利基准分2分，要求厦门大学为第一专利权单位，且计分学生必须是除导师外的第一发明人。如有导师列第一发明人、学生第二的情况，则按学生为第一发明人情形的80%计分，即1.6分。学生独立作为第一发明人的，则计满2分
dxxy.xatu.edu.cn
。每项专利只允许1名学生计分，合作发明人不重复。专利加分可累计，但同属学术专长分，将计入15分上限内。

学科竞赛： 对照学院竞赛项目库，确认竞赛级别与类别后赋分。学院细则将竞赛分为 A+类（顶级国家级）、A类（一般国家级）、A-类（省部级） 等级别
dxxy.xatu.edu.cn
。各等级奖项基准分如下（个人项目按团体一等奖基准的1/3计算）：
国家级A+类竞赛：一等奖30分，二等奖15分，三等奖10分；
国家级A类竞赛：一等奖15分，二等奖10分，三等奖5分；
省级A-类竞赛：一等奖6分，二等奖3分，三等奖1分；
校级或其他经学院认可的竞赛：一般一等奖不超过1~2分，低级别奖项可能不计入推免分数
dxxy.xatu.edu.cn
dxxy.xatu.edu.cn
。
若为个人赛，获奖者直接按上表对应分值的1/3计分（因为上表一等奖基准通常针对团体项目）
dxxy.xatu.edu.cn
；若为团队赛，则获奖证书上的所有队员按团队基准平均或梯度分配：典型规则为团队成员≤5人时，每人按1/5基准分计分，团队规模较大时只取前5名成员计分（每人1/5），第6名及以后不加分
dxxy.xatu.edu.cn
。某些特定竞赛有单独规定参与度系数，例如“挑战杯”国家级竞赛中，队长按基准分1/3计分，第二、三作者各按1/4，第四、五作者各按1/5等
dxxy.xatu.edu.cn
dxxy.xatu.edu.cn
。系统应优先使用竞赛项目库中配置的参与度分配方案，否则采用通用平均分配策略。竞赛加分项限制：每位学生最多取3项不同竞赛的成绩计分，其中非学院认可列表内的赛事不予加分（系统直接标记无效）；同一作品或同一赛事获得的多个奖项，只按其中最高级别或最高奖项计分一次，不累计
dxxy.xatu.edu.cn
。

创新创业项目： 记录学生参与的大学生创新创业训练计划结题情况。项目级别分国家级、省级、校级，角色分主持人（项目组长）和成员。依据细则：国家级立项结题，主持人加1分，成员加0.3分；省级立项主持人0.5分，成员0.2分；校级立项主持人0.1分，成员0.05分
dxxy.xatu.edu.cn
。同一项目若获得多级别（如先校级后晋升国家级），仅按最高级计分一次，不同项目加分可累积但总和不超过2分。系统根据项目名称或编号判断重复，取最高值计分。

志愿服务： 汇总学生本科期间的志愿服务时长和获得的志愿表彰情况。首先，按照服务总时长计算基础分：通常要求累计服务≥200小时才有加分起点，每满2小时折算0.05分，累计加分最高不超过1分
redhat.com
（例如服务400小时给满分1分）。同时，若学生因志愿服务获得荣誉表彰，则按照级别给予一次性加分：国家级志愿服务表彰1分，省级0.5分，校级0.25分（团队表彰则队长按个人标准计分，队员减半）
informatics.xmu.edu.cn
。重要：志愿服务时长加分与表彰加分不可同时叠加，系统应择高原则取其一（默认比较表彰得分与时长得分，选更高的计入），并将另一项舍去
dxxy.xatu.edu.cn
。志愿服务加分封顶1分，多余部分舍弃。

荣誉称号： 统计学生获得的各级综合荣誉称号，如“三好学生”“优秀学生干部”等。赋分标准：国家级荣誉每项2分；省部级荣誉每项1分；校级荣誉每项0.2分
dxxy.xatu.edu.cn
。同一学年度内如获得多项荣誉，只取其中最高级别的一项计分，不累加
dxxy.xatu.edu.cn
。另外，集体荣誉（以团队/集体为单位获奖）对个人加分减半计算。例如班级获校级先进班集体，个人计0.1分。荣誉称号加分累计上限为2分。

学生干部（社会工作）： 根据担任学生干部职务的级别和工作考核结果计分。学院通常设置不同职务的系数，如：院学生主席团/团总支书记系数2.0，院学生会部长/党支书/班长系数1.0，副部长/副班长0.75，普通干事0.5 等
dxxy.xatu.edu.cn
。由辅导员或相关指导老师对任职学生工作表现给出百分制评分。系统读取干部任职记录（包括职务、起止年月、考核分），按规则计算每项任职得分＝考核分×职务系数×任期系数。其中任期系数按任职时间长短：满一学年计100%，一学期约50%。若同一学年兼任多职，仅取分数最高的一项职务计分
dxxy.xatu.edu.cn
；不同学年可累加，但学生干部加分总计不超过2分。

参军入伍： 若学生在本科期间参军入伍服役，退役后推免申请，可依据服役时间加分：服役满一年加1分，满两年及以上加2分，封顶2分
dxxy.xatu.edu.cn
。系统核验学生的入伍证明和服役年限，在退役复学时赋予相应综合表现分。

体育比赛： 对在校期间代表学校参加高水平体育竞赛并获奖的情况给予加分。一般参考标准：国际级赛事冠军5分、亚军3.5分、季军2分，国家级赛事冠军2分、亚军1分、季军0.5分，依次递减。团体项目按上述分值平均分配给队员，两人项目或个人项目则选取相应团体分值的1/3计分
dxxy.xatu.edu.cn
。同一学生多次在体育比赛获奖时，只取其中最高的一项成绩计分，不累加。同一赛事分阶段比赛（如预赛、决赛）也仅按最高等级计一次分。体育类加分计入综合表现，总分仍受5分上限限制。

无效或冲突项处理： 系统应用排他规则避免不当累计得分。例如：同一成果或事项严禁重复加分
dxxy.xatu.edu.cn
。如果某一材料已在一个类别计分，则在其他类别中不再重复（例如同一个科研作品既获得竞赛奖又发表论文，只能按照最高的一个途径加分）。再如某学生通过“特殊学术专长”申请渠道取得满分资格（见下条），则其平时科研加分不再累积计算。资格取消情形也在此处理：对于弄虚作假材料或不符合规定范围的成果，系统将其标记无效，分值计0且需管理员复核
dxxy.xatu.edu.cn
。

特殊学术专长满分： 针对满足学院“特殊学术专长推免”条件的学生（例如本科期间在顶级期刊发表论文或在重大竞赛中获特等奖，并通过学院专家组审核答辩），系统提供特殊标识。当管理员审核确认其特殊专长资格通过后，系统直接赋予其学术专长成绩满分15分
feelyoung.xmu.edu.cn
。实现上，可在学生信息中设置布尔标志specialTalent=true，评分模块首先检查此标志，若为true则跳过常规学术成果累加，直接将学术专长分设为15（并锁定不受其他论文竞赛加分影响），确保这些学生在学术专长项上获得政策允许的满分待遇。

输出数据： 完成上述逻辑计算后，系统为每位学生得出了学术专长成绩（满分15）和综合表现成绩（满分5）的数值。输出包含各项成果的明细得分列表以及按类别汇总的小计。例如，系统显示：“学术专长得分：12.8分（含论文8分、竞赛4.8分、专利0分…）；综合表现得分：3.5分（含荣誉1分、志愿服务1分、学生干部1.5分…）”。对于触及上限的情况，系统将相应项标注“已达上限，超出部分不计”。如果某学生具有特殊学术专长标记，则输出其学术专长成绩=15分，并注明“特殊学术专长满分认定”。所有这些计算结果会写入数据库的成绩表或缓存结构，关联学生ID保存，以便后续排名和展示。学生用户可在个人页面查看自己的当前总加分情况明细，从而验证系统计算是否符合预期。

验收标准： 在加分计算阶段，系统应正确执行细则中的每一条规则，确保与人工核算结果一致。验收方法是使用若干典型案例进行验证。例如：案例1：某学生上传3篇C类论文，应只计其中2篇共2分，其学术专长分不超过2分；案例2：某学生2项竞赛成绩（如“挑战杯”国家二等奖团队5人、数学建模国家一等奖个人），系统应识别竞赛类别并正确分配，分别计每人3分和个人奖5分，合计竞赛加分8分，与手工计算相符；案例3：某学生兼任两学年学生干部，分别得分0.8和0.6分，系统应取总和1.4分且不超过2分上限；案例4：一名“特殊学术专长”认定通过的学生，系统直接赋其专长15分，哪怕其论文竞赛总和按常规规则本可达18分，也应封顶在15。对每种加分类别和边界条件（如上限、排除项）都要设计测试数据验证。所有测试通过的标准是：系统输出的分值与依据原始细则人工计算的结果完全一致，无多加漏加情况，且对超范围或无效材料一律标记不计分。

阶段四：综合成绩计算与排序名额分配

输入数据： 每个学生的学业成绩和考核加分（学术专长分、综合表现分）已经准备就绪。学业成绩一般采用专业（或专业方向）排名的折算分，或直接用加权平均成绩/GPA转换为百分制分数
feelyoung.xmu.edu.cn
。学院细则规定推免综合成绩 = 学业综合成绩（占80%权重） + 考核综合成绩20%
feelyoung.xmu.edu.cn
。其中考核综合成绩即前述学术专长和综合表现分，满分20分（15+5）。因此需要将学生的专业排名成绩换算到80分制。输入数据中包括一个学生所在专业的排名或绩点，以及专业第一名或平均值等基准，用于换算学业分。还包括学院下达的各专业推免名额配额，以及各学生的资格状态（是否有资格进入排序）。

系统处理逻辑: ** 系统首先计算每位学生的推免综合成绩**。如果学业成绩已是按百分制计分且占比80%，可直接取其值×0.8；否则按专业排名或GPA进行折算（例如按照学校提供的“学业成绩折算表”将专业前 X%对应某分值
feelyoung.xmu.edu.cn
，或采用线性换算：第一名=80分，平均绩点=对应分，等等）。然后将该学业分与学生考核综合得分相加，得到总分。公式表示：综合成绩 = 学业分（满分80） + 学术专长分 + 综合表现分
informatics.xmu.edu.cn
。系统确保总分在100分以内。针对资格限制，在排序前再次过滤：若某学生之前遗漏的资格问题（如课程成绩转换未完成、不符合申请条件等）被标记，则其综合成绩计算结果虽在系统中保留，但在排名时需排除该学生。过滤后，系统按照专业对学生列表进行排序：对每个专业，依据综合成绩从高到低排出名次，并结合推免指标确定拟推荐名单
informatics.xmu.edu.cn
。具体名额分配逻辑如下：

系统从学院配置的名额表中读取各专业可推荐名额N。对于每个专业，将综合成绩排序结果的前N名学生标记为“拟推荐”，名次N+1及以后标记为“未入选”。如果某专业实际符合条件的申请人数少于名额，则出现名额空余的情况，系统会提示该专业“名额未用满X个”。

针对空余名额或学院机动名额，系统支持跨专业调剂：可将未用名额重新分配给其他专业的候补学生。系统生成全院综合成绩总榜（所有申请者一起排序），剔除已经入选的学生后，找到最高分的未入选学生及其专业。如果该专业有空余名额，直接递补；若空余来自其他专业，需学院推免小组决议调剂。系统提供界面供管理员调整名额归属，例如将某剩余指标转给高分但落选的学生所属专业，然后更新各专业名单。调剂后的变动由管理员确认执行。

排名过程中，系统特别处理特殊学术专长学生：这些学生通常成绩突出但不占用额外名额，只要其综合成绩名列前茅即可与普通学生一起排序。如有校级政策允许他们不受专业指标限制直接推荐，系统则根据细则实现：例如将通过特殊专长的学生单列标记，并在排序界面提示“特殊推荐名额”。

系统完成排序后，将排名结果和名额使用情况存入数据库或缓存，以备后续审核公示。

输出数据： 排序和名额分配结束后，系统生成各专业的推免综合成绩排名表以及学院整体的拟推荐名单。输出包括每个学生的名次、综合成绩得分、以及是否进入拟推荐行列的信息。例如：“专业排名第1，张三，总分88.5，拟推荐”，“专业排名第6，李四，总分81.3，未入选（因名额5）”。如果有名额调整，则输出调整后的最终各专业入选名单。系统还生成排名数据导出，格式可为Excel表格，包含学号、姓名、综合成绩、各分项成绩、专业排名位次等字段，供学院存档上报。

验收标准： 本阶段的正确性体现在排名和选拔的客观公正。验收应检查：对于模拟的多学生数据，系统排序结果与人工排序一致，且严格按分数从高到低排序，没有因浮点计算误差产生名次颠倒。名额边界检查：在某专业名额=5的情况下，第5名学生被标记拟推荐，第6名未入选；若第5名与第6名总分仅差0.1分，也必须严格执行名额线内外的区别。资格过滤检查：若有学生因不合资格被标记，应确认其不出现在拟推荐名单中，即使分数很高。调剂逻辑检查：手动调整名额时，系统正确将对应学生标记为入选，并在原专业标注名额空缺利用情况。例如模拟A专业空余1名额给到B专业候补第一人，调整后B专业该生显示“拟推荐（调剂名额）”，A专业名额使用率相应更新。导出的Excel名单打开核对，应包含所有拟推荐学生且信息完整。通过上述验证，确保系统能够准确地生成推免排名和推荐名单，不遗漏也不少算任何一个名额。

阶段五：管理员审核与反馈流程

输入数据： 完成学生自评提交后，系统中每位申请学生都有一份待审核的数据，包括其个人基本信息、各项加分材料及系统计算的分值明细、综合成绩及初步排名等。管理员（学院推免工作小组成员）登录管理端后，即可获取所有学生的申请记录列表。输入数据主要来自系统数据库，如成果表中某学生上传的所有证明材料及解析结果、成绩计算表中的各项得分，还有系统自动标记的提示（例如“某材料需人工确认”）。管理员还可查看学生提交的PDF/图片原件以备核实。

系统处理逻辑： 管理员审核过程包括对每位学生材料的逐条复核、分数调整以及审批结论记录：

列表筛选与分配： 管理端显示一个学生申请列表（表格），包含每个申请者的姓名、专业、当前综合成绩、状态（未审/已通过/退回）等概要信息，支持按专业、班级等过滤和搜索。若多名管理员协作，可按专业将待审学生分组处理，系统通过锁或状态避免冲突（例如标记“审核中”以防重复审核）。

逐项审核材料： 管理员点击某学生进入其详细审核界面。页面左侧显示该生的总分及各分项汇总，右侧按类别列出所有提交的成果条目。对于每一条成果，系统展示其主要信息和系统判定的分值，并提供原始材料查看功能（如“点击查看附件”以弹出预览PDF/图片）。管理员需要人工比对核实：判断材料真实性（证书内容与学生填写是否一致，有无涂改造假），以及系统分类与计分是否正确。如果发现系统自动识别有误，管理员可以在界面上直接更正相关字段或分值。典型操作包括：调整成果类别（例如将错误归为B类的论文改为A类）、修改奖项级别或团队人数（从而更新个人得分），或者标记材料无效。系统在管理员编辑后立即重新计算该条目的分数并刷新显示，同时将此修改记录在日志中以备追溯（内容包括修改人、时间、修改前后的值等）。对于系统标记需人工判定的项目（如“不在竞赛库”），管理员要根据政策决定计分与否：若认为该材料可以酌情认可，也可手动指定分值或类别；否则维持不计分。管理员还需检查加分规则应用是否正确，例如验证系统是否正确应用了上限：若某学生列出3篇C类论文，系统应已有提示“2篇以外不计分”，管理员需确认无误。

资格条件复核： 在材料审核同时，管理员检查学生整体资格。有些资格判定需要人工确认，例如查看学生诚信承诺书签名（附件4）是否提交完整
informatics.xmu.edu.cn
、核实学生无隐瞒处分记录等。特别地，特殊学术专长申请者需要核对其额外材料（如教授推荐信、答辩情况）：管理员应确认已组织5名以上专家对该生进行了答辩评审，并记录评审结论
feelyoung.xmu.edu.cn
。若通过，勾选系统中的“特殊学术专长通过”选项；未通过则标记“特殊专长不予认定”，系统将相应调整其学术专长加分（通过则直接15分，未通过则保留其普通加分）
feelyoung.xmu.edu.cn
。此外，管理员留意是否有一票否决情况：如发现学生存在学术不端或考试作弊行为未披露，应立即取消其推免资格；系统支持管理员对该学生设置“资格取消”状态，并须填写原因。

反馈与决议： 完成所有条目审核后，管理员对该学生的申请给出处理结果：通过或退回修改。如果审核通过，系统将该学生状态更新为“审核通过”，其各项得分锁定为最终值，不再受学生端更改影响；若有人工调整分数，其综合成绩也随之更新，并重新参与排名计算。若审核退回，则要求管理员填写退回理由（例如“竞赛证书不清晰，请重新上传原件”或“论文未提供检索证明”）。系统把退回原因文字与需整改的材料清单一并保存，并将该申请标记为“退回待修改”。对于退回的申请，系统会通知学生：通过站内消息或邮件提醒学生登录查看具体反馈。在学生端，退回状态的申请将解锁编辑权限，学生可根据反馈要求补充材料或修正信息，然后重新提交，进入新一轮审核流程。系统对重新提交的数据与之前版本做留档对比，方便管理员二次审核时查看改动之处。

审核日志： 整个审核过程中，系统实时记录每项管理员操作到审核日志表，包括：谁在何时对哪个学生的哪项材料做了什么修改，退回原因内容等。日志编号与学生ID关联，以便日后查询溯源。当全部学生均处理完成或截止日期到达时，管理员可查看汇总的审核完成率，确保没有遗漏未审的申请。

输出数据： 对每位学生，管理员审核流程结束时都会生成一个明确的结果：要么进入“审核通过（待公示）”名单，要么被退回修改或者取消资格。输出数据包括：最终确认的各项有效分数（管理员改动后定稿的分值），审核备注（如退回理由或者减分原因），以及学生申请状态。这些数据更新在数据库中相应字段，例如Achievement记录的状态由“pending”转为“approved”或“rejected”，学生总成绩表更新为最终得分。系统还输出一个审核报告界面，仅管理员可见，汇总列出所有已审核通过学生及其最终综合成绩排名，以及退回名单和原因统计。这便于学院推免工作组整体掌握审核情况。对于退回的学生，系统输出的数据是他们可以在前端看到的反馈信息，指导其进一步操作。

验收标准： 管理员审核阶段的验收关注系统在人工干预下数据更新的正确性和流程的完整性。检查要点包括：数据修改有效性 – 管理员调整某材料分值后，系统立即重新计算综合成绩，且相应变化反映在该学生排名；日志记录完整 – 每一次修改和决议在日志表中有详细记录，包括时间戳和操作者；退回机制 – 模拟退回一名学生申请，学生端能收到通知并看到具体修改建议，修改后再提交能正常进入再次待审状态；并发一致性 – 当有多名管理员同时审核不同学生时，系统状态更新互不干扰；当两人意外打开同一学生记录时，后进入者应看到前者的已保存改动或被锁定提示，防止冲突。通过这些验证，确保系统支持管理员灵活地修正系统自动结果，且所有人工操作都有据可查，不会造成数据混乱或遗漏。

阶段六：结果输出与系统部署

输入数据： 在完成所有学生的审核并确定最终推荐名单后，系统进入结果输出阶段。输入数据包括：各专业最终综合成绩排名表、学院推免拟推荐学生名单，以及相关说明信息（如各项成绩明细、公示期限等）。另外，还有系统部署所需的配置信息和代码资源，例如Docker容器配置、部署脚本等（由开发人员提供）。

系统处理逻辑：
(A) 最终结果输出： 系统根据最终审核确认的成绩和名单，生成可发布的推免结果信息。首先，各专业排名表将最终综合成绩排序及推荐资格标识按要求格式整理。系统自动将拟推荐学生的名单汇总成学院的推免推荐名单公告，内容包括学生姓名、学号、所属专业、综合成绩等。出于信息公开要求，公示名单一般按综合成绩排序展示，但可隐去过多敏感信息（如仅显示姓名和总分，或学号部分字段）。系统支持一键生成公示网页或公告PDF：前端模板填入名单数据，附上“公示期x天，监督联系方式”等说明，然后由管理员在系统中发布。对于需要上报的数据，系统提供导出功能：如生成 Excel 文件列出最终入选学生及候补顺序，或者直接生成符合学校教务系统要求的电子数据格式
feelyoung.xmu.edu.cn
。如果有与教育部“推免服务系统”的对接需求，可在此导出推荐生名单的必要字段供手工录入或API对接。除了入选名单，系统还为每个申请学生生成其个人推免结果页面：学生登录后可以查看自己是否获得资格、总成绩名次，以及各项得分和学院审核意见（这有助于未入选者了解差距，增强过程透明度）。系统将这些结果数据存档在数据库，以便日后查询和分析。
(B) 系统部署与更新： 在demo原型完成后，为方便后续上线测试，项目提供一键部署脚本来快速搭建或更新系统环境。项目目录包含预配置的 docker-compose.yml 文件，定义了应用的服务编排：例如app-backend（Kotlin Spring Boot后端）、app-frontend（打包后的Vue静态前端，由Nginx提供服务）、app-db（MySQL数据库）等容器服务。部署脚本（如deploy.sh）执行以下自动化步骤：停止并移除旧容器实例；从代码仓库拉取最新版本或使用新构建的镜像；执行数据库迁移脚本更新表结构；然后调用docker-compose up -d启动所有容器。容器化使应用封装了运行所需的一切依赖，具有轻量和可移植的优点，可在不同环境快速复制运行
redhat.com
。一键脚本的作用是在目标服务器上一执行，即可完成代码更新和服务重启，不需要人工逐个配置环境，从而将部署时间缩短到数秒级
redhat.com
。此外，系统设计考虑了外部配置（如数据库连接、OAuth凭据）通过环境变量注入，确保容器部署灵活。运维人员只需在首次部署时配置好 .env 文件及所需卷挂载，后续运行脚本即可无缝更新。

输出数据： 结果输出部分的主要输出是学院推免结果公示。系统在前端专门页面显示公示名单，或输出一个包含名单的PDF/Excel供下载张贴。学生个人结果也作为输出，可供其自行查看下载。与此同时，部署脚本会输出执行日志，表示各步骤是否成功（如镜像更新成功、容器启动完成等）。当部署完成后，输出即为最新上线的系统实例：前端可以通过浏览器访问确认版本更新，后端日志显示新版本启动，数据库中数据保持完好。这标志着系统demo成功运行在目标环境上。

验收标准： 在此阶段需要验证两方面：结果正确发布和系统可一键部署。结果发布验收：核对公示名单与审核确认的最终名单一致，无遗漏或排序错误；公示内容格式符合学院要求，敏感信息处理恰当；公示页面或文件能够正常访问和阅读。在公示期满或结果确定后，系统应支持管理员一键将最终名单锁定归档，避免后续任何更改。个人结果查询应准确无误，例如随机抽查若干学生的页面，验证其显示的总分和名次与数据库记录吻合。部署验收：在一台新服务器或容器主机上，执行提供的部署脚本，期望在无需人工干预下完成服务启动。成功标准包括：所有Docker容器正确运行（可通过docker ps看到状态为Up），应用前端可通过URL访问并功能正常，数据库连接正确迁移了最新表结构。对更新场景，在已有旧版本数据情况下运行脚本，验证更新后数据依然完好保留，新功能可以使用。例如在测试环境先部署v1.0，再修改部分代码发布v1.1，通过脚本更新后，用户之前的注册账号和上传材料依旧存在，新版本特性也生效。满足以上条件，说明一键部署与更新机制有效，实现了快速发布上线
redhat.com
的目标。
